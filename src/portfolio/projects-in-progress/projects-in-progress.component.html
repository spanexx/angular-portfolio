<section id="projects-in-progress">
    <h2>Projects in Progress</h2>
    
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-container">
        <div class="loading-spinner"></div>
        <p>Loading projects in progress...</p>
    </div>
    
    <!-- Error State -->
    <div *ngIf="error" class="error-container">
        <p class="error-message">{{ error }}</p>
        <button class="btn btn-primary" (click)="loadProjectsInProgress()">Retry</button>
    </div>
    
    <!-- Projects Content -->
    <div *ngIf="!isLoading && !error" class="projects-content">
        <div class="projects-grid">
        <div class="progress-project-card"
             *ngFor="let project of projectsInProgress"
             (click)="handleCardClick(project)"
             inViewAnimation animationType="fadeIn">
            
            <!-- Project Title Header -->
            <div class="project-header">
                <h3 class="project-title">{{ project.title }}</h3>
            </div>
            
            <!-- Project Content -->
            <div class="project-body">
                <!-- Status Badge for mobile -->
                <div class="project-status-mobile">
                    <span class="status-badge in-progress">In Progress</span>
                </div>
                
                <!-- Progress Bar -->
                <div class="project-progress" *ngIf="project.inProgress">
                    <app-progress-bar [progress]="getProjectProgress(project)"></app-progress-bar>
                    <!-- <span class="progress-text">{{ getProjectProgress(project) }}% Complete</span> -->
                </div>
                  <!-- Description -->
                <div class="project-description">
                    <p>{{ truncateDescription(project.description) }}</p>
                </div>
                
                <!-- Technologies -->
                <div class="project-technologies" *ngIf="project.technologies">
                    <span class="tech-tag" *ngFor="let tech of getDisplayTechnologies(project.technologies)">{{ tech }}</span>
                    <span class="tech-more" *ngIf="hasMoreTechnologies(project.technologies)">
                        +{{ project.technologies.length - 3 }} more
                    </span>
                </div>
                
                <!-- Action Buttons -->
                <!-- <div class="project-actions">
                    <button class="btn btn-primary" 
                            (click)="navigateToProjectDetail(project); $event.stopPropagation()">
                        <i class="fas fa-info-circle"></i>
                        Details
                    </button>
                    <a *ngIf="project.viewLink" 
                       [href]="project.viewLink" 
                       target="_blank" 
                       class="btn btn-secondary"
                       (click)="$event.stopPropagation()">
                        <i class="fas fa-external-link-alt"></i>
                        Live
                    </a>
                    <a *ngIf="project.githubLink" 
                       [href]="project.githubLink" 
                       target="_blank" 
                       class="btn btn-outline"
                       (click)="$event.stopPropagation()">
                        <i class="fab fa-github"></i>
                        Code
                    </a>
                </div> -->
            </div>
        </div>
        </div>
        <div class="see-more">
            <a href="https://github.com/spanexx/" class="btn btn-large">See more ongoing projects</a>
        </div>
    </div>
</section>
